/**
 ** 
 ** www.huize.com; 
 ** Version:0.1.0;
 ** Last Updated:2016-08-09; 
 **
 **/
define(["jquery"],function($){"use strict";var a=function(){};return a.prototype={render:function(){var a=this,b=a.modules||testData.modules||[],c=[];return c.push(a.renderModule(b)),c.join("")},insurantIndex:0,clauseUrl:"",isProjectPolicy:!1,renderModule:function(a){var b,c=this,d=[],e=[],f=c.insurantTypeArr;c.clauseUrl="http://www.huize.com/product/dialog/clause-"+c.product.operationProductId+"-"+c.product.operationPlanId+".html",b=c.clauseUrl,d.push('<div class="insure-step-body pr30 pl30 bgfw">'),d.push('<div class="person-write-info  first-item" id="module-first">'),d.push(c.renderFirstModeule()),a.forEach(function(a,b){switch(c.formIndex++,a.id){case c.MODULES_ID_INSURE:e.push('<div class="person-write-info credentials-form" sort="'+c.formIndex+'" id="module-'+a.id+'"data-index="'+c.formIndex+'"  data-moduleid="module-'+a.id+'">'),e.push('<div class="info-title">'+a.name+"</div>"),e.push(c.renderTable(a)),e.push('<div class="mb10 saveContract"><label class="label-item vis-hide">保存为常用联系人</label>'),e.push('<div class="hz-check-item  hz-check-item-checked inline-block" for="contacts'+a.id+'" rel="checkbox"><i class="hz-check-icon"></i>'),e.push('<input class="insure-checkbox fn-hide" type="checkbox" name="chkSaveInsure" id="chkSaveInsure'+a.id+'" data-moduleid="'+a.id+'"  class="insure-label" value="1" checked />'),e.push('<label class="hz-check-text f12 fc6" >保存为常用联系人</label>'),e.push("</div>"),e.push("</div>"),e.push("</div>");break;case c.MODULES_ID_INSURED:e.push('<div class="insurant" id="module-'+a.id+'">');var g=[],h=[],i=[],j=[];"1"===f[0]&&(g.push('<div class=" person-write-info  first-item insurant-type credentials-form insurant-item-form" data-insurantType="myself" data-index="'+c.formIndex+'"  data-moduleid="module-'+a.id+'">'),g.push('<div class="">'),g.push('<div class="info-title"  style="display:none">本人信息</div>'),g.push(c.renderTable(a,!0)),g.push(c.renderBeneficiaryModule(c.insurantIndex)),g.push('<div class="mb10 saveContract"><label class="label-item vis-hide">保存为常用联系人</label>'),g.push('<div class="hz-check-item inline-block  hz-check-item-checked" rel="checkbox"><i class="hz-check-icon"></i>'),g.push('<input class="insure-checkbox fn-hide" type="checkbox" name="chkSaveInsure" id="chkSaveInsure'+a.id+'" data-moduleid="'+a.id+'" class="insure-label" value="1" checked />'),g.push('<label class="hz-check-text f12 fc6" for="chkSaveInsure'+a.id+'">保存为常用联系人</label>'),g.push("</div>"),g.push("</div>"),g.push("</div>"),g.push("</div>")),"1"===f[1]&&(c.insurantIndex++,c.formIndex++,h.push('<div class="insurant-type credentials-form insurant-item-form" data-insurantType="others" data-moduleid="module-'+a.id+'" data-index="'+c.formIndex+'">'),h.push('<div class="person-write-info" sort="'+c.formIndex+'">'),h.push('<div class="info-title">'+a.name+"</div>"),h.push(c.renderTable(a,!1)),h.push(c.renderBeneficiaryModule(c.insurantIndex)),h.push('<div class="mb10 saveContract"><label class="label-item vis-hide">保存为常用联系人</label>'),h.push('<div class="hz-check-item  hz-check-item-checked inline-block" rel="checkbox"><i class="hz-check-icon"></i>'),h.push('<input class="insure-checkbox fn-hide" type="checkbox" name="chkSaveInsure" id="chkSaveInsure'+a.id+'" data-moduleid="'+a.id+'" class="insure-label" value="1" checked />'),h.push('<label class="hz-check-text f12 fc6" for="chkSaveInsure'+a.id+'">保存为常用联系人</label>'),h.push("</div>"),h.push("</div>"),h.push("</div>"),h.push("</div>")),"1"===f[2]&&(i.push('<div class="insurant-type" data-insurantType="more" data-moduleid="module-'+a.id+'">'),i.push('<div id="addMoreBox"></div>'),i.push('<div class="last-item tar pb20"><a href="javascript:;" class="add add-link f12" data-type="more" ><i class="iconfont fc9  f18 mr5">&#xe70c;</i>新增被保险人</a></div>'),i.push("</div>")),"1"===f[3]&&(j.push('<div class="insurant-type" data-insurantType="team" data-moduleid="module-'+a.id+'">'),j.push('<div class="person-write-info">'),j.push('<div class="info-title">'+a.name+"</div>"),j.push("团单信息导入"),j.push("</div>"),j.push("</div>")),"1"===f[3]?(e.push('<div class="insurant-type" data-insurantType="team" data-moduleid="module-'+a.id+'">'),e.push('<div class="info-title">'+a.name+' <span id="insuredNumber"></span><div class="fr" id="teamBtn"><a href="javascript:;" type="team" class="add-link f12 ml10"><i class="iconfont fc9 f22 mr5">&#xe70c;</i>新增被保险人</a><a href="javascript:;" class="add-link f12" contactsIndex><i class="iconfont fc9 f22 ml10">&#xe70c;</i>导入常用联系人</a><a href="javascript:;" class="f12 ml10 upload-excel" id=""><i class="iconfont fc9 f22 mr5">&#xe701;</i>批量导入被保人</a></div></div></div>'),e.push(c.renderTeamWarp())):"1"===f[2]?e.push(i.join(" ")):"1"===f[1]?("1"===f[0]&&e.push(g.join("")),e.push(h.join(" "))):"1"===f[0]&&e.push(g.join(" ")),e.push("</div>");break;case c.MODULES_ID_BENEFICIARY:"1"===f[3]&&(e.push('<div class="person-write-info">'),e.push('<div class="info-title">受益人信息</div>'),e.push('<div class="field-item">'),e.push('<label class="label-item" for="beneficiarytype">受益人信息</label>'),e.push('<span class="inline-block">法定继承人</span>'),e.push("</div>"),e.push("</div>")),c.beneficiaryItem=a;break;case c.MODULES_ID_INSURE_DATE:d.push('<div class="credentials-form" id="module-'+a.id+'" data-index="'+c.formIndex+'" >'),d.push(c.renderTable(a)),d.push("</div>");break;case c.MODULES_ID_FORCEPAYID:e.push('<div class="person-write-info credentials-form"  id="module-'+a.id+'" data-index="'+c.formIndex+'">'),e.push('<div class="info-title">'+a.name+"</div>"),1===c.product.isForcePay&&(e.push('<div class="field-item  field-row">'),e.push('<label class="label-item">是否自动续保</label>'),e.push('<div class="hz-radio-item insure-form inline-block forcepay" rel="radio"  name="forcepay" id="forcePay" value="1" data-moduleid="'+a.id+'" ><i class="hz-radio-icon"></i>'),e.push('<span class="insure-label mr10" for="forcePay">是</span>'),e.push("</div>"),e.push('<div class="hz-radio-item  insure-form inline-block forcepay hz-radio-item-checked" rel="radio" name="forcepay" value="0" id="noForcePay" data-moduleid="'+a.id+'" ><i class="hz-radio-icon"></i>'),e.push('<span class=" insure-label mr10" for="noForcePay">否</span>'),e.push("</div>"),e.push("</div>")),e.push('<div id="forcePayContent">'),e.push('<div class="field-item">'),e.push('<div class="mt20 f12">'),e.push('<p class="pb15"><strong>说明：</strong>续期转账授权声明</p>'),e.push('<div class="pb15">'),e.push(c.product.forcePayContent),e.push("</div>"),e.push("</div>"),e.push("</div>"),e.push(c.renderTable(a)),e.push('<div class="field-item"><label class="label-item vis-hide"></label><div class="inline-block"><div class="insure-form form-item hz-check-item fl" rel="checkbox" for="" id="insureStatement" data-errorremind="请选择同意条款" data-required="1" ><i class="hz-check-icon"></i><span class="hz-check-text f12 fc6">'+c.TEXT_INSURESTATEMENT+'</span> <span class="insure-tips write-info-error ml10"></span></div></div></div>'),e.push("</div>"),e.push("</div>");break;case c.MODULES_ID_URGENCY:e.push('<div class="person-write-info credentials-form" id="module-'+a.id+'" data-index="'+c.formIndex+'" >'),e.push('<div class="info-title urgency-toggle"><i class="iconfont f18 fc9">&#xe711;</i>'+a.name+"（选填）</div>"),e.push('<div id="urgencyContent" style="display:none">'),e.push(c.renderTable(a)),e.push("</div>"),e.push("</div>");break;default:e.push('<div class="person-write-info credentials-form" id="module-'+a.id+'" data-index="'+c.formIndex+'" >'),e.push('<div class="info-title">'+a.name+"</div>"),e.push(c.renderTable(a)),e.push("</div>")}}),d.push("</div>"),e.push('<div class="person-write-info" style="border-top: none;">'),e.push('<div class="person-write-action">'),e.push('<label class="label-item vis-hide">保险条款</label>'),e.push('<div class="inline-block"><div class="hz-check-item fl" rel="checkbox" for="" id="clauseInfo" data-errorremind="请选择同意条款" >'),e.push('<i class="hz-check-icon"></i>'),e.push('<span class="hz-check-text f12 fc6">'),e.push("我已查看并同意"),e.push("</span></div>"),e.push('<span class="fl f12 fc6 ml5">'),e.push('<a target="_blank" href="'+b+'" id="insureClause" class="primary-link">保险条款</a>'),e.push("&nbsp;和&nbsp;"),e.push('<a href="javascript:;" id="insureDeclare" class="primary-link">投保人申明</a>'),e.push('<span class="insure-tips clause-insure-tips write-info-error ml10"></span>'),e.push("</span>"),e.push("</div>"),e.push("</div>"),e.push('<div class="mt20 mb30">'),e.push('<label class="label-item vis-hide">提交</label>');var g=!!c.insurance.projectInsuranceGroup;g?c.isProjectPolicy=g:e.push('<a class="hz-button hz-button-primary submit-button fb" href="javascript:;"><span class="f16">提交投保单</span></a>');var h=!0,i="";return h=c.insurance.planDetailInfo.supportShoppingCart,i=h?"":"fn-hide",g?e.push('<a class="hz-button hz-button-primary  fb" href="javascript:;" id="saveInsureToCar" ><span class="f16">保存投保信息</span></a>'):e.push('<a class="ml30 tdl save-link '+i+'" href="javascript:;" id="saveInsureToCar">保存投保信息</a>'),e.push("</div>"),e.push("</div>"),e.push("</div>"),d.push(e.join("")),d.join("")},firstJobDataOptions:[],renderTable:function(a,b){var c=this,d=[],e=[],f=(b===!0?a.selfProductAttrs:a.productAttrs)||[];return f.forEach(function(b,f){var g=b.attribute||{},h=["form-item","insure-form"],i=" ",j=g.keyCode,k=g.keyCode,l=a.id,m=g.id,n=' data-name="'+g.name+'"  data-moduleid="'+l+'" data-attributeid="'+g.id+'" data-defaultvalue="0" data-errorremind="'+(g.errorRemind||"")+'" data-defaultremind="'+(g.defaultRemind||"")+'"  data-required="'+(b.required||"")+'" data-regex="'+(g.regex||"")+'" maxlength="'+c.inputMaxLength+'" ',o="item-"+l+"-"+b.attributeId+"-"+c.formIndex,p=g.values||[],q=c.insureCName?c.insureCName:"投保人",r=g.id===c.ATTR_ID_RELATIONINSUREINSURANT?'被保人是<span class="js-insure-name">'+q+"</span>的":g.name,s=c.isMoreInsurant||c.isTeamInsurant||b.attribute.id!==c.ATTR_ID_RELATIONINSUREINSURANT?"":"display:none;",t=!1,u="";if(g.id!==c.ATTR_ID_CREDENTIALSINPUT){switch(d.push('<div class="field-item  field-row" style="'+s+'" id="item-'+l+"-"+m+'">'),d.push('<label class="label-item" for="'+o+'">'),b.required&&d.push('<span class="secondary-color pr5">*</span>'),d.push(r+"</label>"),g.id){case c.ATTR_ID_TEL:h.push("only-number");break;case c.ATTR_ID_BENEFICIARY:h.push("only-number");break;case c.ATTR_ID_AREA_PROPERTY:h.push("select-area");break;case c.ATTR_ID_AREA_INSURE:h.push("select-area");break;case c.ATTR_ID_AREA_BANK:h.push("select-area");break;case c.ATTR_ID_AREA_LIVING:h.push("select-area");break;case c.ATTR_ID_AREA_ACCOUNT:h.push("select-area");break;case c.ATTR_ID_AREA_RECEIVER:h.push("select-area");break;case c.ATTR_ID_JOB:h.push("job-level");break;case c.ATTR_ID_INSURE_DATE:h.push("fixed-date");break;case c.ATTR_ID_CREDENTIALSTYPE:h.push("credentials dropdown-credentials"),20===l&&(c.cardType=p);break;case c.ATTR_ID_BUYCOUNT:h.push("buycount");break;case c.ATTR_ID_DELIVERADDRESS:h.push("input-address-text");break;case c.ATTR_ID_CREDENTIALSINPUT:h.push("id-card-input");break;case c.ATTR_ID_RELATIONINSUREINSURANT:c.defaultInsureInsurantRelation=p,c.relationships=p,h.push("relationship");break;case c.ATTR_ID_HEIGHT:t=!0,u="cm";break;case c.ATTR_ID_WEIGHT:t=!0,u="kg";break;case c.ATTR_ID_YEARLYINCOME:t=!0,u="元"}switch(g.type){case 0:if("flightFromCity"===j||"flightToCity"===j||"fromAirport"===j||"toAirport"===j)if("fromAirport"===j||"toAirport"===j);else{d.push('<input class="insure-form  '+h.join(i)+'" type="hidden" name="'+j+'" id="'+o+'" '+n+"/>"),d.push('<span class="destination vm flightSelect" tableIndex="0" data-name="'+g.name+'"  data-attributeid="'+g.id+'">选择城市</span>');var v=0,w="",x="";"flightFromCity"===j?(v=c.ATTR_ID_FROMAIRPORT,w="fromAirport",x="航班出发机场"):(v=c.ATTR_ID_TOAIRPORT,w="toAirport",x="航班到达机场"),d.push('<span class="insure-tips ml10"></span>'),d.push("</div>"),d.push('<div class="field-item  field-row" style="'+s+'" id="item-'+l+"-"+v+'">'),d.push('<label class="label-item">'+x+"</label>"),n=' data-name="'+x+'"  data-moduleid="'+l+'" data-attributeid="'+v+'" data-defaultvalue="0" data-errorremind="'+(g.errorRemind||"")+'" data-defaultremind="'+(g.defaultRemind||"")+'"  data-required="'+(b.required||"")+'" data-regex="'+(g.regex||"")+'" maxlength="'+c.inputMaxLength+'" ',o="item-"+l+"-"+v+"-"+c.formIndex,d.push('<div tabindex="0" class="hz-dropdown '+h.join(i)+' " '+n+' data-dropdown="dropdown-'+o+'" name="'+w+'"  id="'+o+'">'),d.push('<div class="input-select">'),d.push('<span class="input-select-text more-tag no-select">请选择</span>'),d.push('<b class="iconfont">&#xe70b;</b>'),d.push("</div>"),d.push('<div class="hz-dropdown-content"  data-dropdown-item="dropdown-'+o+'" id="dropdown-'+o+'">'),d.push('<ul class="hz-dropdown-menu">'),d.push("</ul>"),d.push("</div>"),d.push("</div>")}else d.push('<div tabindex="0" class="hz-dropdown '+h.join(i)+' " '+n+' data-dropdown="dropdown-'+o+'" name="'+j+'"  id="'+o+'">'),d.push('<div class="input-select">'),d.push('<span class="input-select-text more-tag no-select">请选择</span>'),d.push('<b class="iconfont">&#xe70b;</b>'),d.push("</div>"),d.push('<div class="hz-dropdown-content"  data-dropdown-item="dropdown-'+o+'" id="dropdown-'+o+'">'),d.push('<ul class="hz-dropdown-menu">'),g.id===c.ATTR_ID_RELATIONINSUREINSURANT&&(p=c.tranfromRelations(p)),p.forEach(function(a,b){d.push('<li class="hz-select-option" id="dropdown-option-'+o+"-"+a.controlValue+'"value="'+a.controlValue+'" text="'+a.value+'" >'+a.value+"</li>")}),d.push("</ul>"),d.push("</div>"),d.push("</div>"),g.id===c.ATTR_ID_CREDENTIALSTYPE&&d.push("#CardNumContent#");break;case 1:var y="",z="",A="",B="",C="",D="";g.id===c.ATTR_ID_INSURE_DATE&&3===c.product.insureTime?d.push('<span class="fc6">'+c.TEXT_INSURANCE_START_DATE+"</span>"):(m===c.ATTR_ID_CREDENTIALSVALIDITY?(y='maxDate="'+c.getCurrentTime()+'"',z='minDate="1900-1-1"',A='maxDate="2100-12-30"',B='minDate="'+c.getCurrentTime()+'"',D='<span class="insure-span ml20">起：</span>',d.push('<div class="hz-check-item inline-block  credentials-validity" style="width:60px" rel="checkbox" > <i class="hz-check-icon"></i>'),d.push('<input class="insure-checkbox insure-form credentials-validity fn-hide" type="checkbox" name="validityTime" id="'+o+'" '+n+'/><label for="'+o+'" class="insure-label">长期</label>'),d.push("</div>")):m===c.ATTR_ID_BIRTHDATE&&l===c.MODULES_ID_INSURED&&$.each(c.ruleParam.genes,function(a,b){if(b.key)switch(b.key){case c.INSURANTDATEKEY:try{b.value.split("-").length>2&&(C=b.value,c.logRed("产品详情页的试算信息带入的日期："+C))}catch(d){C=""}}}),h.push("styleItem"),d.push(D),d.push('<input class="Wdate insure-calendar '+h.join(i)+'" type="text" name="'+j+'" id="'+o+'" '+n+" "+y+" "+z+'  value="'+C+'" />'),m===c.ATTR_ID_CREDENTIALSVALIDITY&&(d.push('<span class="insure-tips ml10"></span>'),d.push('<span class="insure-span validity-end-item validity-span">止：</span><input class="validity-span  validity-end-item '+h.join(i)+' insure-calendar Wdate " type="text" name="cardPeriodEnd" id="" '+A+" "+B+" "+n+" />")));break;case 2:d.push("同时出现下拉框和日历控件区间");break;case 3:h.push("input-text");var E="",F="";g.id===c.ATTR_ID_BUYCOUNT&&$.each(c.ruleParam.genes,function(a,b){if(b.key)switch(b.key){case c.BUYCOUNTKEY:E=parseInt(b.value),F=E}}),j.indexOf("Address")>0&&h.push("long-input-text"),d.push('<input type="text" class=" '+h.join(i)+' " name="'+j+'" id="'+o+'"  '+n+' defaultvalue="'+F+'"value="'+E+'"/>'),"cName"===j&&d.push('<a href="javascript:;" class="select-contacts-link f12 fc6 ml10" contactsIndex="'+c.formIndex+'"><i class="iconfont fc9 f22 mr5">&#xe710;</i>选择联系人</a>'),t&&d.push('<span class="js-insure-tips  pl5">'+u+"</span>");break;case 4:var G=g.areaWealth||[],H=["Province","City","Area"],I=' data-name="'+g.name+'"  data-moduleid="'+l+'" data-attributeid="'+g.id+'" data-defaultvalue="0" data-errorremind=" " data-defaultremind=" "  data-required="'+(b.required||"")+'" data-regex="'+(g.regex||"")+'" maxlength="'+c.inputMaxLength+'" ';$.each(H,function(a,b){var e=k+"-"+b+"-"+l,f="";0!==a&&(G=[],f="display:none;margin-left:10px");var g={};g.options=G,g.attr=I+'  name="'+j+'" areaName="'+b+'"  id="'+e+'"  select="'+b.toLowerCase()+'"  style="'+f+'"  ',g.showDefaultText=!0,g.styles=h,d.push(c.renderSelectHmtl(g)),d.push('<input class="area-text" name="'+j+'Text" type="hidden" id="'+b+'Text"/>')}),m===c.ATTR_ID_AREA_PROPERTY&&(h.push("input-text"),d.push('<span class="insure-tips ml10"></span>'),d.push("</div>"),d.push('<div class="field-item  field-row" ><label class="label-item" for="item-10-2-1"></label>'),d.push('<input class="'+h.join(i)+'  insure-address-user" data-required="0" type="text" name="'+j+'UserInfo"  style="width:400px"  id=""  '+n+"/>"));break;case 5:var J=g.companyJobList||[],K=[];$.each(J,function(a,b){K.push('<li class="hz-select-option"   value="'+b.id+'" id="'+b.id+'" code="'+b.code+'" text="'+b.name+'" level="'+b.level+'">'+b.name+"</li>")}),c.firstJobDataOptions=K;var L={};L.options=G,L.attr=n+'  name="'+j+'" id="'+o+'"  job="1" ',L.showDefaultText=!0,L.styles=h,L.listWidth="300px",d.push(c.renderSelectHmtl(L)),h.push("ml10");var M={};M.options=G,M.attr=n+'  name="'+j+'" id=""  job="2"  style="display:none;"  ',M.showDefaultText=!0,M.styles=h,M.listWidth="300px",d.push(c.renderSelectHmtl(M));var N={};N.options=G,N.attr=n+'  name="'+j+'" id=""  job="3"  style="display:none;"  ',N.showDefaultText=!0,N.styles=h,N.listWidth="300px",d.push(c.renderSelectHmtl(N)),d.push('<input class="hidden-job-text" type="hidden" name="jobId" '+n+"/>"),d.push('<input class="hidden-job-text" type="hidden" name="jobNum" '+n+"/>"),d.push('<input class="hidden-job-text" type="hidden" name="jobLevel" '+n+"/>");break;case 6:h.push("password"),h.push("input-text"),d.push('<input type="password" class=" '+h.join(i)+' " name="'+j+'" id="'+o+'"  '+n+"/>"),d.push('<span class="insure-tips ml10"></span>'),d.push("</div>"),d.push("<div>"),d.push('<label class="label-item" for="reconfim-'+o+'">密码确认</label>'),d.push('<input type="password"  data-errorremind="必须与保单密码一致" class=" '+h.join(i)+' " name="reconfim-'+j+'" id="reconfim-'+o+'"  '+n+"/>");break;case 7:d.push("文本类型");break;case 8:d.push('<input class="insure-form  '+h.join(i)+'" type="hidden" name="'+j+'" id="'+o+'" '+n+"/>"),"flightFromCity"===j||"flightToCity"===j?d.push('<span class="destination vm flightSelect" tableIndex="0" data-name="'+g.name+'"  data-attributeid="'+g.id+'">选择城市</span>'):(d.push('<span class="destination vm" tableIndex="0" id="destination" data-attributeid="'+g.id+'"> 选择目的地</span><a class="insure-link-color ml10 vm" href="javascript:;" id="noAcceptCountry">不承保国家或地区</a>'),d.push('<div class="select-countries" style="margin:0 0 10px 180px;" data-attributeId="'+g.id+'" id="selectCountries"></div><input class="select-countries" type="hidden" name="'+j+'" data-attributeId="'+g.id+'" />'));break;case 9:var O,P;g.id===c.ATTR_ID_SEX&&20===l&&$.each(c.ruleParam.genes,function(a,b){if(b.key)switch(b.key){case c.SEXKEY:P=b.value}}),p.forEach(function(a,b){var c="input-"+o+b;O=P===a.value?"hz-radio-item-checked":"",d.push('<div class="hz-radio-item inline-block  insure-radio  '+O+" "+h.join(i)+'" value="'+a.controlValue+'" name="'+j+"-"+o+'" id="'+c+'" '+n+' rel="radio"><i class="hz-radio-icon"></i>'),d.push('<span class="hz-radio-text">'+a.value+"</span>"),d.push("</div>")});break;case 10:rvalues.forEach(function(a,b){var c="input-"+o+b;h.push("fn-hide"),d.push('<div class="hz-check-item inline-block " rel="checkbox" > <i class="hz-check-icon"></i>'),d.push('<input type="checkbox" value="'+a.controlValue+'"  name="'+j+'" id="'+c+'" class="'+h.join(i)+'"  '+n+"/>"),d.push('<label class = "insure-label "  for="'+c+'">'+a.value+"</label>"),d.push("</div>")})}c.MODULES_ID_INSURE_DATE===l&&c.ATTR_ID_INSURE_DATE===m&&d.push('<span class="write-info-default ml10" id="insurantDate"></span>'),d.push('<span class="insure-tips ml10"></span>'),d.push("</div>")}else h.push("id-card-input"),h.push("input-text"),e.push('<input type="text" class="ml10  '+h.join(i)+' " name="'+j+'" id="'+o+'"  '+n+'  value=""/>');d.push("")}),d.join("").replace("#CardNumContent#",e.join(""))},renderBeneficiaryModule:function(a){var b=this,c=[];return $.each(this.data.modules,function(d,e){if(e.id===b.MODULES_ID_BENEFICIARY&&0!==b.data.product.beneficiaryType){c.push('<div class="field-item">'),c.push('<label class="label-item" for="beneficiarytype"><span class="secondary-color pr5">*</span>受益人信息</label>'),c.push('<div class="hz-dropdown form-item  beneficiarytype-select"  data-insurantindex="'+a+'"  data-dropdown="dropdown-item-beneficiarytype-'+e.id+"-"+a+'">'),c.push('<div class="input-select">'),c.push('<span class="input-select-text more-tag no-select">法定继承人</span>'),c.push('<b class="iconfont">&#xe70b;</b>'),c.push("</div>"),c.push('<div class="hz-dropdown-content" data-dropdown-item="dropdown-item-beneficiarytype-'+e.id+"-"+a+'">'),c.push('<ul class="hz-dropdown-menu">');var f='<li class="hz-select-option"  name="beneficiarytype" value="1"  data-beneficiarytype="1" text="法定继承人" > 法定继承人</li>',g='<li class="hz-select-option"  name="beneficiarytype"  value="2" data-beneficiarytype="2" text="指定受益人" > 指定受益人</li>';if(1===b.data.product.beneficiaryType?c.push(f):2===b.data.product.beneficiaryType?c.push(g):12===b.data.product.beneficiaryType&&c.push(f+g),c.push("</ul>"),c.push("</div>"),c.push("</div>"),c.push('<span class="insure-tips ml10"></span>'),c.push("</div>"),b.data.product.beneficiaryType.toString().indexOf("2")>-1){var h=12===b.data.product.beneficiaryType?'style="display:none"':"",i=b.data.product.secondBeneficiaryLimit>0?"":'style="display:none"';c.push('<div class="pb10 zd-beneficiary" data-insurantindex="'+a+'" id="zd-beneficiary-content-'+a+'" '+h+">"),c.push('<label class="label-item vis-hide" for="beneficiary">受益人</label>'),c.push('<div class="inline-block beneficiary-zd-conten">'),c.push('<div class="beneficiaryFirst" id="beneficiaryFirst-'+a+'"> <p class="hz-alert mb10"><strong class="inline-block fc6">第一顺序受益人（<span class="beneficiary-count">0</span>/'+b.product.firstBeneficiaryLimit+'）</strong><i class="iconfont f18" rel="prompt" data-prompt-html="《继承法》规定的法定继承人范围是,第一顺序继承人为配偶、子女、父母">&#xe715;</i></p>'),c.push('<div class="beneficiaries-list  beneficiary-content">'),c.push('<table class="hz-table hz-table-bordered f12 beneficiary-table">'),c.push('<col width="8%"/> <col width="84%"/> <col width="8%"/>'),c.push('<tr><td class="tac">序号</td><td>受益人信息</td><td>操作</td></tr>'),c.push('<tr class="beneficiary-addtr"><td colspan="3" class="tac"><a href="javascript:;" class="add-link f12 add-beneficiary" data-type="first"><i class="iconfont fc9 f18 mr5">&#xe70c;</i>新增第一顺序受益人</a></td></tr>'),c.push("</table>"),c.push("</div>"),c.push("</div>"),c.push('<div  class="beneficiarySecond mt30"   id="beneficiarySecond-'+a+'"'+i+' > <p class="hz-alert mb10"><strong class="inline-block fc6">第二顺序受益人（<span class="beneficiary-count">0</span>/'+b.product.secondBeneficiaryLimit+'）</strong><i class="iconfont f18" rel="prompt" data-prompt-html="《继承法》规定的法定继承人范围是,第二顺序继承人为兄弟姐妹、祖父母、外祖父母">&#xe715;</i></p>'),c.push('<div class="beneficiaries-list ">'),c.push('<table class="hz-table hz-table-bordered f12 beneficiary-table">'),c.push('<col width="8%"/> <col width="84%"/> <col width="8%"/>'),c.push('<tr class="beneficiary-head"><td class="tac">序号</td><td>受益人信息</td><td>操作</td></tr>'),c.push('<tr class="beneficiary-addtr"><td colspan="3" class="tac"><a href="javascript:;" class="add-link f12 add-beneficiary" data-type="second"><i class="iconfont fc9 f18 mr5">&#xe70c;</i>新增第二顺序受益人</a></td></tr>'),c.push("</table>"),c.push("</div>"),c.push("</div>"),c.push("</div>"),c.push("</div>")}}}),c.join("")},renderFirstModeule:function(){var a=this,b=[],c=a.insurantTypeArr;return b.push('<div class="info-title"></div>'),"1"!=c[2]&&"1"!=c[3]&&(b.push('<div class="field-item">'),b.push('<label class="label-item" for="forrelationtype"><span class="secondary-color pr5">*</span>为谁投保</label>'),b.push('<div class="hz-dropdown  form-item  for-relation-select" data-dropdown="dropdown-item-forrelationtype"  data-required="1" id="forrelationtype">'),b.push('<div class="input-select">'),b.push('<span class="input-select-text more-tag no-select">请选择</span>'),b.push('<b class="iconfont">&#xe70b;</b>'),b.push("</div>"),b.push('<div class="hz-dropdown-content" data-dropdown-item="dropdown-item-forrelationtype">'),b.push('<ul class="hz-dropdown-menu ">'),b.push("</ul>"),b.push("</div>"),b.push("</div>"),b.push('<span class="insure-tips ml10"></span>'),b.push("</div>")),b.join("")},protectItmes:[],renderRight:function(a){var b=this,c=[],d="",e="",f="",g="",h=a.result.insurance.genes;if(b.protectItmes=a.result.insurance.restrictRule.protectTrialItemList,h.forEach(function(a,c){switch(a.key){case b.INSURANTDATELIMIT:d=a.value;break;case b.PAYMENTTYPE:e=a.value;break;case b.INSUREAGELIMIT:f=a.value}}),g=a.result.insurance.planDetailInfo.productName+" "+a.result.insurance.planDetailInfo.planName,b.productName=g,c.push('<div class="secondary-hot-product bgfw">'),c.push('<div class="secondary-hot-product-head">'),c.push('<a class="company-logo" target="_blank"  href="http://www.huize.com/brand/detail/'+b.product.company.id+'">'),c.push('<img src="'+b.product.company.bigLogoImg+'" alt="'+b.product.company.compCnName+'" title="'+b.product.company.compCnName+'" height="45">'),c.push("</a>"),c.push('<h2 class="hot-product-title mt35 f18"><a target="_blank" href="http://www.huize.com/product/detail-'+b.product.operationProductId+".html?DProtectPlanId="+b.product.operationPlanId+'">'+g+"</a></h2>"),c.push("</div>"),c.push('<div class="secondary-hot-product-body">'),c.push('<div class="protect-item">'),e&&e.indexOf("一次性")<0){var i=e+(f?","+f:"");c.push('<h4 class="fc6 f14 fb mb5">缴费方式</h4>'),c.push('<p class="f12 fc6 mb15">'+i+"</p>")}return c.push('<h4 class="fc6 f14 fb mb5">保障期限</h4>'),c.push('<p class="f12 fc6 mb15">'+d+"</p>"),c.push('<div id="rightBody">'),c.push("</div>"),c.push("</div>"),c.push("</div>"),c.push('<div class="secondary-hot-product-foot">'),c.push('<div id="rightFoot">'),c.push("</div>"),c.push('<div class="mt15 hot-product-price">'),c.push('<p class="primary-color fr">¥<span class="f36" id="totalPrice">150</span></p>'),c.push("<span>合计</span>"),c.push("</div>"),c.push("</div>"),c.push("</div>"),c.join("")},renderSteps:function(){var a=this,b=[],c=1;b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+"</i><span>购物车</span></li>"),a.product.healthInformWebId?a.product.healthInformPosition?(c+=1,b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -22px;">填写投保信息</span></li>'),c+=1,b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -10px;">投保告知</span></li>')):(c+=1,b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -10px;">投保告知</span></li>'),c+=1,b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -22px;">填写投保信息</span></li>')):(c+=1,b.push('<li class="hz-step-item hz-step-item-active"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -22px;">填写投保信息</span></li>')),c+=1,b.push('<li class="hz-step-item"><i class="dot">'+c+'</i><span class="hz-step-text" style="right: -17px;">确认并支付</span></li>'),b.push('<li class="hz-step-item last-item"></li>'),$("#steps").html(b.join(""))},beneficiaryDialogHtml:[],renderBeneficiarydDialog:function(){var a=this,b=[],c=a.beneficiaryItem,d=c.productAttrs||[];b.push('<div id="beneficiary-dialog"  class="beneficiary-dialog layui-layer-wrap credentials-form" style="padding: 10px 40px; position: relative;">'),b.push("<div>"),d.forEach(function(d,e){var f=d.attribute||{},g=["form-item","insure-form"],h=" ",i=f.keyCode,j=(f.keyCode,c.id),k=f.id,l=' data-name="'+f.name+'"  data-moduleid="'+j+'" data-attributeid="'+f.id+'" data-defaultvalue="0" data-errorremind="'+(f.errorRemind||"")+'" data-defaultremind="'+(f.defaultRemind||"")+'"  data-required="'+(d.required||"")+'" data-regex="'+(f.regex||"")+'" maxlength="'+a.inputMaxLength+'" ',m="item-"+j+"-"+d.attributeId+"-"+a.formIndex,n=f.values||[],o=f.name;switch(f.id){case a.ATTR_ID_TEL:g.push("only-number");break;case a.ATTR_ID_BENEFICIARY:g.push("proportion");break;case a.ATTR_ID_CREDENTIALSTYPE:g.push("credentials");break;case a.ATTR_ID_CREDENTIALSINPUT:g.push("id-card-input")}switch(b.push('<div class="mb20 field-row">'),0===e&&b.push('<div class="hz-alert hz-alert-error f12" id="beneficiaryTips"></div>'),f.type){case 0:b.push('<div  class="hz-dropdown '+g.join(h)+' " '+l+' data-dropdown="dropdown-'+m+'" name="'+i+'"  id="'+m+'">'),b.push('<div class="input-select">'),b.push('<input type="text"  readonly  class="input-select-text more-tag no-select" placeholder-text="'+o+'" style="background-color:transparent"/>'),b.push('<b class="iconfont">&#xe70b;</b>'),b.push("</div>"),b.push('<div class="hz-dropdown-content"  data-dropdown-item="dropdown-'+m+'" id="dropdown-'+m+'">'),b.push('<ul class="hz-dropdown-menu">'),n.forEach(function(a,c){b.push('<li class="hz-select-option" id="dropdown-option-'+m+"-"+a.controlValue+'"value="'+a.controlValue+'" text="'+a.value+'" >'+a.value+"</li>")}),b.push("</ul>"),b.push("</div>"),b.push("</div>");break;case 1:var p="",q="",r="",s="",t="",u="";k===a.ATTR_ID_CREDENTIALSVALIDITY&&(p='maxDate="'+a.getCurrentTime()+'"',q='minDate="1900-1-1"',r='maxDate="2100-12-30"',s='minDate="'+a.getCurrentTime()+'"',u="width:100px;",t='<span class="insure-span">起：</span>',b.push('<div class="hz-check-item inline-block  credentials-validity" style="width:60px" rel="checkbox" > <i class="hz-check-icon"></i>'),b.push('<input class="insure-checkbox insure-form credentials-validity fn-hide" type="checkbox" name="validityTime" id="'+m+'" '+l+'/><label for="'+m+'" class="insure-label">长期</label>'),b.push("</div>"),b.push("</div>"),b.push('<div class="mb20 field-row">')),g.push("styleItem"),b.push(t),b.push('<input class="Wdate insure-calendar input-text '+g.join(h)+'" placeholder-text="'+o+'"  type="text"  style="'+u+'"  name="'+i+'" id="'+m+'" '+l+" "+p+" "+q+'  data-calendartype="beneficiary"/>'),k===a.ATTR_ID_CREDENTIALSVALIDITY&&b.push('<span class="insure-span validity-end-item validity-span">止：</span><input class="validity-span  validity-end-item input-text '+g.join(h)+' insure-calendar Wdate "  style="'+u+'"  placeholder-text="'+o+'"  type="text" name="cardPeriodEnd" id="" '+r+" "+s+" "+l+'  data-calendartype="beneficiary" />');break;case 2:b.push("同时出现下拉框和日历控件区间");break;case 3:g.push("input-text"),k===a.ATTR_ID_BENEFICIARY&&(l+=' style="width:230px;"'),b.push('<input type="text" placeholder-text="'+o+'"   class=" input-text '+g.join(h)+' " name="'+i+'" id="'+m+'"  '+l+"/>"),"cName"===i&&b.push('<p class="mt5"><a href="javascript:;" class="select-contacts-link f12 fc6" contactsIndex="'+c.sort+'"><i class="iconfont fc9 f22 mr5">&#xe710;</i>选择联系人</a></p>'),k===a.ATTR_ID_BENEFICIARY&&b.push('<span class="inline-block pt10 ml10">%</span>');break;case 4:f.areaWealth||[];break;case 5:break;case 6:g.push("input-text"),b.push('<input type="password"  placeholder-text="'+o+'" class=" input-text '+g.join(h)+' " name="'+i+'" id="'+m+'"  '+l+"/>"),b.push('<input type="password"   placeholder-text="确认密码" class=" input-text'+g.join(h)+' " name="reconfim-'+i+'" id="reconfim-'+m+'"  '+l+"/>");break;case 7:b.push("文本类型");break;case 8:break;case 9:b.push('<span class="inline-block tar mr10">'+o+"</span>");var v,w=0;n.forEach(function(a,c){var d="input-"+m+c;v=w===a.controlValue?" hz-radio-item-checked ":" ",b.push('<div class="hz-radio-item inline-block  insure-radio  '+v+" "+g.join(h)+'" value="'+a.controlValue+'" name="'+i+"-"+m+'" id="'+d+'" '+l+' rel="radio"><i class="hz-radio-icon"></i>'),b.push('<span class="hz-radio-text">'+a.value+"</span>"),b.push("</div>")});break;case 10:rvalues.forEach(function(a,c){var d="input-"+m+c;b.push('<input type="checkbox" value="'+a.controlValue+'"  name="'+i+'" id="'+d+'" class="'+g.join(h)+'"  '+l+"/>"),
b.push('<label class = "insure-label mr10"  for="'+d+'">'+a.value+"</label>")})}b.push("</div>")}),b.push('<div class="hz-check-item hz-check-item-checked inline-block mb20 saveContract" rel="checkbox" > <i class="hz-check-icon"></i>'),b.push('<input class="insure-checkbox insure-form form-item fn-hide" type="checkbox" name="chkSaveInsure" id="chkSaveInsureBeneficiary" data-moduleid="30"  data-attributeid="" data-name="保存为常用联系人" value="1" checked="true" />'),b.push('<label class="hz-check-text f12 fc6" for="chkSaveInsureBeneficiary">保存为常用联系人</label>'),b.push("</div>"),b.push('<div><a class="hz-button hz-button-primary hz-button-block beneficiary-save" id="beneficiarySave" href="javascript:;">保&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;存</a></div>'),b.push("</div>"),b.push("</div>"),a.beneficiaryDialogHtml=b}},a});