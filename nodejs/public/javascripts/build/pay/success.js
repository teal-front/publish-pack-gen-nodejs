/**
 ** 
 ** www.huize.com; 
 ** Version:0.1.0;
 ** Last Updated:2016-08-09; 
 **
 **/
define(function(){"use strict";var a={init:function(){this.initData(),this.render(),this.initEvents()},render:function(){$("#kfLink").attr("href","http://kefu.hzins.com/chat?domain=hzins&businessType=Xm4FWr0dncw&referrer="+encodeURIComponent(window.location.href))},command:{share:function(a){var b=a||{},c="";switch(b.type){case"qqweibo":c+="http://v.t.qq.com/share/share.php?title="+b.content+"&url="+b.url+"&pic="+b.picurl.join("|");break;case"qqzone":c+="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?desc=&summary="+b.title+"&url="+b.url+"&pics="+b.picurl.join("|")+"&title="+$("div[data-product-title]").data("product-title")||"";break;case"sinaweibo":c+="http://v.t.sina.com.cn/share/share.php?title="+b.title+"&url="+b.url+"&content=utf-8&sourceUrl="+b.url+"&pic="+b.picurl.join("||")+"&searchPic=false&appkey=3813649018"}var d=window.open("about:blank");d.location.href=encodeURI(c)}},initData:function(){this.data.share.content=$(".pay-success-share-area").val(),this.data.share.url=$(".share-others-content .share-link").text(),$(".pay-success-share-pic").each(function(){$(this).hasClass("pay-success-share-pic-selected")&&(a.data.share.pic["pic_"+$(this).index()]=$(this).find("img").attr("src"))})},data:{share:{type:"sinaweibo",content:"",url:"",pic:{}}},initEvents:function(){var a=this;$(".pay-success-share-item").click(function(){var b=$(this).index();$(this).siblings(".pay-success-share-item").removeClass("active"),$(this).addClass("active"),$(this).hasClass("wx-item")?($(".share-others-content").hide(),$(".share-wx-content").show(),$(".pay-success-share-foot").hide()):($(".pay-success-share-foot").show(),$(".share-others-content").show(),$(".share-wx-content").hide(),a.data.share.type=1===b?"sinaweibo":5===b?"qqzone":"qqweibo")}),$(".pay-success-share-pic").click(function(){var b=a.data,c=$(this).hasClass("pay-success-share-pic-selected");c?b.share.pic["pic_"+$(this).index()]="":b.share.pic["pic_"+$(this).index()]=$(this).find("img").attr("src"),$(this).toggleClass("pay-success-share-pic-selected");var d=$(".pay-success-share-pic-selected").length;$(".share-pic-selected").text(d),$(".share-pic-left").text(3-d)}),$("#share").click(function(){var b=a.data.share,c=[];$.each(b.pic,function(a,b){c.push(b)}),a.command.share({type:b.type,title:b.content,content:b.content,url:b.url,picurl:c})})}};return a});