/**
 ** 
 ** www.huize.com; 
 ** Version:0.1.0;
 ** Last Updated:2016-08-09; 
 **
 **/
"use strict";define(["jquery"],function($){!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),$.fly=function(a,b){var c={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:$.noop},d=this,e=$(a);d.init=function(a){this.setOptions(a),!!this.settings.autoPlay&&this.play()},d.setOptions=function(a){this.settings=$.extend(!0,{},c,a);var b=this.settings,d=b.start,f=b.end;e.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=f.width&&null!=f.height&&$.extend(!0,d,{width:e.width(),height:e.height()});var g=Math.min(d.top,f.top)-Math.abs(d.left-f.left)/3;g<b.vertex_Rtop&&(g=Math.min(b.vertex_Rtop,Math.min(d.top,f.top)));var h=Math.sqrt(Math.pow(d.top-f.top,2)+Math.pow(d.left-f.left,2)),i=Math.ceil(Math.min(Math.max(Math.log(h)/.05-75,30),100)/b.speed),j=d.top==g?0:-Math.sqrt((f.top-g)/(d.top-g)),k=(j*d.left-f.left)/(j-1),l=f.left==k?0:(f.top-g)/Math.pow(f.left-k,2);$.extend(!0,b,{count:-1,steps:i,vertex_left:k,vertex_top:g,curvature:l})},d.play=function(){this.move()},d.move=function(){var a=this.settings,b=a.start,c=a.count,d=a.steps,f=a.end,g=b.left+(f.left-b.left)*c/d,h=0==a.curvature?b.top+(f.top-b.top)*c/d:a.curvature*Math.pow(g-a.vertex_left,2)+a.vertex_top;if(null!=f.width&&null!=f.height){var i=d/2,j=f.width-(f.width-b.width)*Math.cos(i>c?0:(c-i)/(d-i)*Math.PI/2),k=f.height-(f.height-b.height)*Math.cos(i>c?0:(c-i)/(d-i)*Math.PI/2);e.css({width:j+"px",height:k+"px","font-size":Math.min(j,k)+"px"})}e.css({left:g+"px",top:h+"px"}),a.count++;var l=window.requestAnimationFrame($.proxy(this.move,this));c==d&&(window.cancelAnimationFrame(l),a.onEnd.apply(this))},d.destroy=function(){e.remove()},d.init(b)},$.fn.fly=function(a){return this.each(function(){void 0==$(this).data("fly")&&$(this).data("fly",new $.fly(this,a))})}});