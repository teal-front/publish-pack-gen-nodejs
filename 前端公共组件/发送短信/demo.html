<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="Generator" content="EditPlus®">
		<meta name="Author" content="">
		<meta name="Keywords" content="">
		<meta name="Description" content="">
		<title>Document</title>
	</head>
	<body>
		<input type="text" name="" id="tel" value="13711111111">
		<span class="btn" id="getCode">获取验证码</span>
		<script src="http://static.huizecdn.com/js/libs/require/2.1.11/require.min.js"></script>
		<script>
		requirejs.config({
			urlArgs: 'v1.0',
			baseUrl: "",
			paths: {
				'send-message': 'http://static.huizecdn.com/js/plugins/send-message/send-message',
			},
			shim: {
			}
		});
		</script>
		<script>
		requirejs(['send-message'],function(SendMessage){
			var getCode = document.getElementById('getCode');
			var tel = document.getElementById('tel');
		new SendMessage({
			ele: getCode, //node节点，即要点击的元素
			num: 6, // 倒时间时间
			textBefore: '', //页面显示x秒之前的文字
			textAfter: '秒', //页面显示x秒之前的文字
			validation: function() {
				//验证处理
				this.errorMsg = '请输入正确的手机号码';//错误提示文字
				return /^1(3|4|5|8|7)[0-9]{9}/.test(tel.value);
			},
			sendBefore: function() {
				//验证后执行获取验证码操作
				//可以将获取按钮置灰
			},
			sendAfter: function() {
				//可以将获取按钮置灰还原
			},
			error: function(err) {
				alert(err);
				console.log(err);
			}
		});
		});
		</script>
	</body>
</html>