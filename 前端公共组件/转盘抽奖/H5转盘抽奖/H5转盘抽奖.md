# **H5转盘抽奖组件**


## **1. 主要功能**
> * 实现在H5端旋转转盘抽奖的功能

## **2.基本用法**

### A. 前端部分


该组件依赖zepto或Jquery，需要在页面上引用zepto.js,和rotateModule.js

     <script src="js/zepto.min.js" type="text/javascript"></script>
    <script src="js/rotateModule.js" type="text/javascript" charset="utf-8"></script>


html内容 outer是转盘的背景，inner是转盘转动的按钮

     <div class="g-body">
	 <div class="u-turn">
		<img src="images/turn-bottom.png" id="outer">
		<img src="images/turn-top.png" id="inner">
	</div>
    </div>
实例化

转动转盘的时候需要从后端获得所得到的奖品的序号，并让转盘转动，这里只是获得随机值

      $("#inner").on("click", function() {
				var key = getRandom(0, 11);
				if (!rotating) {
					rotating = true;
					//alert(dataObj[key] + "," + key);
					myTurn.rotateTo(dataObj[key] + 1440);
					typeId = key;
				}
			});
配置转盘转动后的回调函数

           var myTurn = $("#outer").rotateModule({
				beginAngle: 0,
				time: 3,
				endAngule: null,
				callBack: function() {
					rotating = false;
					if (typeId == 0) {
						alert("恭喜你获得一等奖");
					} else if (typeId == 4) {
						alert("恭喜你获得二等奖");
					} else if (typeId == 8) {
						alert("恭喜你获得三等奖");
					} else {
						alert("再接再厉");
					}
				}
			});




