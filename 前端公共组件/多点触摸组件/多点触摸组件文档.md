                                         Touch.js
组件名称：touch.js
 


组件路径：http://static.huizecdn.com/js/plugins/touch/0.2.14/touch-0.2.14.min.js
 




组件功能描述：在开发移动端的应用中会使用到很多的手势操作，该组件支持H5移动端的触摸事件处理，一指拖拽，二指缩放，二指旋转，单指滑动等常用的功能；此版本是百度团队开发维护的，并在百度内部应用。
 



官方文档：http://touch.code.baidu.com/ 
 
用法例子：
<script src="http://static.huizecdn.com/js/plugins/touch/0.2.14/touch-0.2.14.min.js"></script>
<div id="target"></div>
旋转：


		var angle = 0;
		touch.on('#target', 'touchstart', function(ev){
		    ev.startRotate();
		    ev.preventDefault();
		});
		touch.on('#target', 'rotate', function(ev){
		    var totalAngle = angle + ev.rotation;
		    if(ev.fingerStatus === 'end'){
		        angle = angle + ev.rotation;
		    }
		    this.style.webkitTransform = 'rotate(' + totalAngle + 'deg)';
		});




缩放：




			
			var target = document.getElementById("target");
			target.style.webkitTransition = 'all ease 0.05s';
			touch.on('#target', 'touchstart', function(ev){
				ev.preventDefault();
			});var initialScale = 1;var currentScale;
			touch.on('#target', 'pinch', function(ev){
				currentScale = ev.scale - 1;
				currentScale = initialScale + currentScale;
				currentScale = currentScale > 2 ? 2 : currentScale;
				currentScale = currentScale < 1 ? 1 : currentScale;
				this.style.webkitTransform = 'scale(' + currentScale + ')';
				log("当前缩放比例为:" + currentScale + ".");
			});
拖拽：
 


		touch.on('#target', 'touchstart', function(ev){
			ev.preventDefault();
		});var target = document.getElementById("target");var dx, dy;
		touch.on('#target', 'drag', function(ev){
			dx = dx || 0;
			dy = dy || 0;
			log("当前x值为:" + dx + ", 当前y值为:" + dy +".");
			var offx = dx + ev.x + "px";
			var offy = dy + ev.y + "px";
			this.style.webkitTransform = "translate3d(" + offx + "," + offy + ",0)";
		});
		touch.on('#target', 'dragend', function(ev){
			dx += ev.x;
			dy += ev.y;
		});

支持的手势事件类型：



		
		分类	参数	描述
		缩放	pinchstart	缩放手势起点
			pinchend	缩放手势终点
			pinch	缩放手势
			pinchin	收缩
			pinchout	放大
		旋转	rotateleft	向左旋转
			rotateright	向右旋转
			rotate	旋转
		滑动	swipestart	滑动手势起点
			swiping	滑动中
			swipeend	滑动手势终点
			swipeleft	向左滑动
			swiperight	向右滑动
			swipeup	向上滑动
			swipedown	向下滑动
			swipe	滑动